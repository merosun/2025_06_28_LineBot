name: .NET CI/CD Pipeline

on:
  push:
    branches: [ main ]  # ç•¶ä½  push åˆ° main åˆ†æ”¯æ™‚åŸ·è¡Œ

jobs:
  build:
    runs-on: windows-latest

    steps:
    - name: 1ï¸âƒ£ ä¸‹è¼‰ç¨‹å¼ç¢¼
      uses: actions/checkout@v3

    - name: 2ï¸âƒ£ å®‰è£ .NET SDK
      uses: actions/setup-dotnet@v3
      with:
        dotnet-version: '8.0.x'  # æ ¹æ“šä½ ä½¿ç”¨çš„ç‰ˆæœ¬èª¿æ•´

    - name: 3ï¸âƒ£ é‚„åŸ NuGet å¥—ä»¶
      run: dotnet restore

    - name: 4ï¸âƒ£ ç·¨è­¯å°ˆæ¡ˆ
      run: dotnet build --no-restore --configuration Release

    - name: 5ï¸âƒ£ åŸ·è¡Œæ¸¬è©¦ï¼ˆå¦‚æœ‰ï¼‰
      run: dotnet test --no-build --verbosity normal

    # ğŸ”½ è‹¥ä½ æœ‰éƒ¨ç½²éœ€æ±‚ï¼Œå¯åŠ å…¥ä»¥ä¸‹ï¼ˆéœ€é¡å¤–è¨­å®šæ©Ÿå¯†ï¼‰
    # - name: Deploy to FTP / Azure / IIS
    #   run: dotnet publish ...
